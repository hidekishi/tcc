# Migration Guide - Old Scripts to New Consolidated Scripts

This guide helps transition from the old 17+ scripts to the new 3-script structure.

## Quick Reference

| Old Command | New Command |
|-------------|-------------|
| `python3 generate_analysis.py` | `python3 analyze_and_visualize.py` |
| `python3 generate_all_graphs.py` | `python3 analyze_and_visualize.py --graphs-only` |
| `python3 generate_latex_tables.py` | `python3 analyze_and_visualize.py --tables-only` |
| `python3 generate_overhead_table.py` | `python3 analyze_and_visualize.py --tables-only` |
| `python3 analyze_results.py` | `python3 analyze_and_visualize.py` |

## Detailed Migration

### 1. Graph Generation

**OLD:**
```bash
python3 generate_all_graphs.py
python3 generate_additional_graphs.py
python3 generate_polynomial_fit_graphs.py
python3 generate_graphs.py
python3 generate_plots.py
```

**NEW:**
```bash
# Generate all graphs
python3 analyze_and_visualize.py --graphs-only

# Generate graphs for specific apps
python3 analyze_and_visualize.py --graphs-only --apps c_mandel c_md
```

### 2. Table Generation

**OLD:**
```bash
python3 generate_latex_tables.py
python3 generate_full_results_table.py
python3 generate_overhead_table.py
python3 generate_scalability_scores.py
```

**NEW:**
```bash
# Generate all tables
python3 analyze_and_visualize.py --tables-only

# Tables are automatically saved to benchmark_results/
```

### 3. Analysis Scripts

**OLD:**
```bash
python3 analyze_results.py
python3 analyze_dimension_impact.py
python3 update_tex_results.py
```

**NEW:**
```bash
# Complete analysis (graphs + tables)
python3 analyze_and_visualize.py

# With custom JSON file
python3 analyze_and_visualize.py --json benchmark_results/benchmark_results_YYYYMMDD_HHMMSS.json
```

### 4. Utility Functions

**OLD:**
```python
# Functions scattered across multiple files
from generate_analysis import calculate_speedup
from analyze_results import get_metrics
```

**NEW:**
```python
# All utilities in one place
from utils import (
    calculate_speedup,
    calculate_efficiency,
    calculate_overhead,
    calculate_serial_fraction,
    polynomial_fit,
    get_best_configuration
)
```

## New Capabilities

### Selective Generation
```bash
# Only specific applications
python3 analyze_and_visualize.py --apps c_mandel c_md c_lu

# Only graphs or only tables
python3 analyze_and_visualize.py --graphs-only
python3 analyze_and_visualize.py --tables-only
```

### Custom Data Files
```bash
# Specify custom JSON file
python3 analyze_and_visualize.py --json path/to/results.json
```

## What's Changed

### Removed Scripts
- ❌ `generate_analysis.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_all_graphs.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_additional_graphs.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_polynomial_fit_graphs.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_graphs.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_plots.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_latex_tables.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_full_results_table.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_overhead_table.py` - Merged into `analyze_and_visualize.py`
- ❌ `generate_scalability_scores.py` - Merged into `analyze_and_visualize.py`
- ❌ `analyze_dimension_impact.py` - Functionality preserved in main script
- ❌ `analyze_results.py` - Merged into `analyze_and_visualize.py`
- ❌ `update_tex_results.py` - Merged into `analyze_and_visualize.py`
- ❌ `fix_underscores.py` - No longer needed
- ❌ `restore_underscores.py` - No longer needed
- ❌ `validate_graphs.py` - Integrated into main script
- ❌ `list_apps.py` - Functionality in utils.py

### Preserved Scripts
- ✅ `benchmark_runner.py` - **Unchanged** (main execution engine)
- ✅ `analyze_and_visualize.py` - **New** (consolidated analysis)
- ✅ `utils.py` - **New** (shared utilities)

## Output Files

### Before
```
benchmark_results/
├── Various scattered .tex files
├── Multiple intermediate JSON files
└── Inconsistent naming
```

### After
```
benchmark_results/
├── benchmark_results_YYYYMMDD_HHMMSS.json  # Main results
├── tabela_overhead_extreme_24.tex          # Overhead table
└── tabela_resultados_summary.tex           # Results summary

../tcc/Graficos/
├── c_mandel_speedup_efficiency.png
├── c_mandel_overhead_serial.png
├── c_mandel_polynomial_comparison.png
├── comparison_large.png
└── ... (consistent naming)
```

## Common Issues

### Issue: "Can't find old script"
**Solution:** Use the new consolidated script:
```bash
python3 analyze_and_visualize.py
```

### Issue: "Missing specific graph"
**Solution:** Check if it's generated by default, or filter to specific apps:
```bash
python3 analyze_and_visualize.py --apps c_mandel
```

### Issue: "Need only one type of output"
**Solution:** Use flags:
```bash
python3 analyze_and_visualize.py --graphs-only
python3 analyze_and_visualize.py --tables-only
```

## Benefits of New Structure

1. **Single Command:** One script does everything
2. **Consistent Output:** All files follow same naming convention
3. **Faster Execution:** No redundant file reads
4. **Easier Maintenance:** Code in one place
5. **Better Options:** Fine-grained control via CLI flags
6. **Shared Utilities:** Reusable functions in utils.py
7. **Documentation:** All functions well-documented

## Need Help?

```bash
# Show all available options
python3 analyze_and_visualize.py --help

# View README
cat README.md
```
